I"À<p>I really enjoy using libpd to embed interactive sound into <a href="http://charlesmartin.com.au/apps">iOS apps</a>. One tradeoff of doing this is that <a href="https://github.com/libpd/libpd/wiki/misc#using-externals">Pd externals are often GPL licenced</a> so you can‚Äôt use them in projects that are destined for the App Store - in particular, you can‚Äôt use expr or expr~ which are very widely used objects included in Pd Vanilla.</p>

<p>As it turns out, expr is the only way to get the size of an array (or table) in Pd Vanilla, which can cause‚Ä¶ difficulty.</p>

<p>The best way around this is to use the <a href="http://puredata.info/downloads/arraysize">‚Äúarraysize‚Äù external</a> that is included with Pd-Extended and doesn‚Äôt have a prescriptive licence.</p>

<p>Just copy the arraysize.c into an Xcode project that uses libpd and make sure that this file has the compiler flags ‚Äú-DPD‚Äù in the Build Phases screen. Then setup a dummy method in the class where you setup libpd:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>void arraysize_setup();
</code></pre></div></div>

<p>and then call the setup method after initialising the PdAudioController, but before opening a patch file with PdBase like so:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>arraysize_setup();
</code></pre></div></div>

<p>Now go find the size of some arrays.</p>
:ET